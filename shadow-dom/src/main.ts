const classes =
  "caccelerator caccent-color cadditive-symbols calign-content calign-items calign-self calignment-baseline calt canimation canimation-delay canimation-direction canimation-duration canimation-fill-mode canimation-iteration-count canimation-name canimation-play-state canimation-timing-function capp-region cappearance cascent-override caspect-ratio caudio-level cazimuth cbackdrop-filter cbackface-visibility cbackground cbackground-attachment cbackground-blend-mode cbackground-clip cbackground-color cbackground-image cbackground-origin cbackground-position cbackground-position-x cbackground-position-y cbackground-repeat cbackground-repeat-x cbackground-repeat-y cbackground-size cbase-palette cbaseline-shift cbaseline-source cbehavior cblock-ellipsis cblock-size cblock-step cblock-step-align cblock-step-insert cblock-step-round cblock-step-size cbookmark-label cbookmark-level cbookmark-state cborder cborder-block cborder-block-color cborder-block-end cborder-block-end-color cborder-block-end-style cborder-block-end-width cborder-block-start cborder-block-start-color cborder-block-start-style cborder-block-start-width cborder-block-style cborder-block-width cborder-bottom cborder-bottom-color cborder-bottom-left-radius cborder-bottom-right-radius cborder-bottom-style cborder-bottom-width cborder-boundary cborder-collapse cborder-color cborder-end-end-radius cborder-end-start-radius cborder-image cborder-image-outset cborder-image-repeat cborder-image-slice cborder-image-source cborder-image-width cborder-inline cborder-inline-color cborder-inline-end cborder-inline-end-color cborder-inline-end-style cborder-inline-end-width cborder-inline-start cborder-inline-start-color cborder-inline-start-style cborder-inline-start-width cborder-inline-style cborder-inline-width cborder-left cborder-left-color cborder-left-style cborder-left-width cborder-radius";

const template = `<div class="${classes}">Test element</div>`;

const styles = `
  .caccelerator {
    accelerator: initial;
  }
  .caccent-color {
    accent-color: initial;
  }
  .cadditive-symbols {
    additive-symbols: initial;
  }
  .calign-content {
    align-content: initial;
  }
  .calign-items {
    align-items: initial;
  }
  .calign-self {
    align-self: initial;
  }
  .calignment-baseline {
    alignment-baseline: initial;
  }
  .calt {
    alt: initial;
  }
  .canimation {
    animation: initial;
  }
  .canimation-delay {
    animation-delay: initial;
  }
  .canimation-direction {
    animation-direction: initial;
  }
  .canimation-duration {
    animation-duration: initial;
  }
  .canimation-fill-mode {
    animation-fill-mode: initial;
  }
  .canimation-iteration-count {
    animation-iteration-count: initial;
  }
  .canimation-name {
    animation-name: initial;
  }
  .canimation-play-state {
    animation-play-state: initial;
  }
  .canimation-timing-function {
    animation-timing-function: initial;
  }
  .capp-region {
    app-region: initial;
  }
  .cappearance {
    appearance: initial;
  }
  .cascent-override {
    ascent-override: initial;
  }
  .caspect-ratio {
    aspect-ratio: initial;
  }
  .caudio-level {
    audio-level: initial;
  }
  .cazimuth {
    azimuth: initial;
  }
  .cbackdrop-filter {
    backdrop-filter: initial;
  }
  .cbackface-visibility {
    backface-visibility: initial;
  }
  .cbackground {
    background: initial;
  }
  .cbackground-attachment {
    background-attachment: initial;
  }
  .cbackground-blend-mode {
    background-blend-mode: initial;
  }
  .cbackground-clip {
    background-clip: initial;
  }
  .cbackground-color {
    background-color: initial;
  }
  .cbackground-image {
    background-image: initial;
  }
  .cbackground-origin {
    background-origin: initial;
  }
  .cbackground-position {
    background-position: initial;
  }
  .cbackground-position-x {
    background-position-x: initial;
  }
  .cbackground-position-y {
    background-position-y: initial;
  }
  .cbackground-repeat {
    background-repeat: initial;
  }
  .cbackground-repeat-x {
    background-repeat-x: initial;
  }
  .cbackground-repeat-y {
    background-repeat-y: initial;
  }
  .cbackground-size {
    background-size: initial;
  }
  .cbase-palette {
    base-palette: initial;
  }
  .cbaseline-shift {
    baseline-shift: initial;
  }
  .cbaseline-source {
    baseline-source: initial;
  }
  .cbehavior {
    behavior: initial;
  }
  .cblock-ellipsis {
    block-ellipsis: initial;
  }
  .cblock-size {
    block-size: initial;
  }
  .cblock-step {
    block-step: initial;
  }
  .cblock-step-align {
    block-step-align: initial;
  }
  .cblock-step-insert {
    block-step-insert: initial;
  }
  .cblock-step-round {
    block-step-round: initial;
  }
  .cblock-step-size {
    block-step-size: initial;
  }
  .cbookmark-label {
    bookmark-label: initial;
  }
  .cbookmark-level {
    bookmark-level: initial;
  }
  .cbookmark-state {
    bookmark-state: initial;
  }
  .cborder {
    border: initial;
  }
  .cborder-block {
    border-block: initial;
  }
  .cborder-block-color {
    border-block-color: initial;
  }
  .cborder-block-end {
    border-block-end: initial;
  }
  .cborder-block-end-color {
    border-block-end-color: initial;
  }
  .cborder-block-end-style {
    border-block-end-style: initial;
  }
  .cborder-block-end-width {
    border-block-end-width: initial;
  }
  .cborder-block-start {
    border-block-start: initial;
  }
  .cborder-block-start-color {
    border-block-start-color: initial;
  }
  .cborder-block-start-style {
    border-block-start-style: initial;
  }
  .cborder-block-start-width {
    border-block-start-width: initial;
  }
  .cborder-block-style {
    border-block-style: initial;
  }
  .cborder-block-width {
    border-block-width: initial;
  }
  .cborder-bottom {
    border-bottom: initial;
  }
  .cborder-bottom-color {
    border-bottom-color: initial;
  }
  .cborder-bottom-left-radius {
    border-bottom-left-radius: initial;
  }
  .cborder-bottom-right-radius {
    border-bottom-right-radius: initial;
  }
  .cborder-bottom-style {
    border-bottom-style: initial;
  }
  .cborder-bottom-width {
    border-bottom-width: initial;
  }
  .cborder-boundary {
    border-boundary: initial;
  }
  .cborder-collapse {
    border-collapse: initial;
  }
  .cborder-color {
    border-color: initial;
  }
  .cborder-end-end-radius {
    border-end-end-radius: initial;
  }
  .cborder-end-start-radius {
    border-end-start-radius: initial;
  }
  .cborder-image {
    border-image: initial;
  }
  .cborder-image-outset {
    border-image-outset: initial;
  }
  .cborder-image-repeat {
    border-image-repeat: initial;
  }
  .cborder-image-slice {
    border-image-slice: initial;
  }
  .cborder-image-source {
    border-image-source: initial;
  }
  .cborder-image-width {
    border-image-width: initial;
  }
  .cborder-inline {
    border-inline: initial;
  }
  .cborder-inline-color {
    border-inline-color: initial;
  }
  .cborder-inline-end {
    border-inline-end: initial;
  }
  .cborder-inline-end-color {
    border-inline-end-color: initial;
  }
  .cborder-inline-end-style {
    border-inline-end-style: initial;
  }
  .cborder-inline-end-width {
    border-inline-end-width: initial;
  }
  .cborder-inline-start {
    border-inline-start: initial;
  }
  .cborder-inline-start-color {
    border-inline-start-color: initial;
  }
  .cborder-inline-start-style {
    border-inline-start-style: initial;
  }
  .cborder-inline-start-width {
    border-inline-start-width: initial;
  }
  .cborder-inline-style {
    border-inline-style: initial;
  }
  .cborder-inline-width {
    border-inline-width: initial;
  }
  .cborder-left {
    border-left: initial;
  }
  .cborder-left-color {
    border-left-color: initial;
  }
  .cborder-left-style {
    border-left-style: initial;
  }
  .cborder-left-width {
    border-left-width: initial;
  }
  .cborder-radius {
    border-radius: initial;
  }
`;

const sheet = new CSSStyleSheet();
sheet.replaceSync(styles);

// Apply the stylesheet to a document:
document.adoptedStyleSheets = [sheet];

customElements.define(
  "test-element",
  class extends HTMLElement {
    connectedCallback() {
      const shadow = this.attachShadow({ mode: "open" });

      const el = document.createElement("div");
      const textEl = document.createTextNode("Test element");

      el.className = classes;
      el.appendChild(textEl);
      shadow.appendChild(el);

      shadow.adoptedStyleSheets = [sheet];
    }
  }
);

document.getElementById("run").addEventListener("click", () => {
  document.querySelector("#app").innerHTML = Array.from(
    { length: 10000 },
    (_) => `<test-element></test-element>`
  ).join("");
});
